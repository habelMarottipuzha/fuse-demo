import{a as f,b as K,c as Q}from"./chunk-7NSBNRGG.js";import"./chunk-VQKW65V4.js";import{s as S,t as M}from"./chunk-3ELD3YND.js";import"./chunk-YV2HKFTX.js";import"./chunk-7RUTHQW4.js";import{K as J,d as T,i as q,l as W,p as U,t as Y,y as G}from"./chunk-DJ4YU7C4.js";import{Y as y,_ as z,ca as x}from"./chunk-2KSZVOJO.js";import"./chunk-LBS7JBSZ.js";import{$c as V,Ac as $,Jb as m,Kb as h,Mb as j,Na as a,Oa as p,Qb as A,Rb as u,Sb as v,Sc as H,Tb as w,Tc as N,Vc as g,Z as I,Zb as R,_ as E,_b as B,db as D,fb as l,hc as O,k as C,la as d,pb as e,qb as t,rb as c,sb as k,tb as L,uc as P,w as _}from"./chunk-JJ2E6HSL.js";var ae=()=>["../","create"],le=()=>({type:"FAMILY",redirect_url:"family/list",org_id:1}),ee=(()=>{let i=class i{constructor(o){this._memberService=o,this._unsubscribeAll=new C,this.searchInputControl=new Y}ngOnInit(){this._memberService.getMembers().subscribe(),this.members$=this._memberService.members$,this.searchInputControl.valueChanges.pipe(E(this._unsubscribeAll),I(o=>this._memberService.searchContacts(o))).subscribe()}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}};i.\u0275fac=function(n){return new(n||i)(p(f))},i.\u0275cmp=d({type:i,selectors:[["app-family-list"]],standalone:!0,features:[A([f]),u],decls:15,vars:15,consts:[[1,"flex","flex-col","w-full","max-w-screen-xl","bg-white"],[1,"flex-auto"],[1,"flex","flex-col","sm:flex-row","md:flex-col","flex-auto","justify-between","py-8","px-6","md:px-8","border-b"],[3,"count","title"],[1,"flex","mt-4","sm:mt-0","md:mt-4"],[1,"fuse-mat-dense","fuse-mat-no-subscript","w-full","min-w-50"],["matPrefix","",1,"icon-size-5",3,"svgIcon"],["matInput","",3,"formControl","autocomplete","placeholder"],["mat-flat-button","",1,"ml-4",3,"color","routerLink","queryParams"],[3,"svgIcon"],[1,"ml-2","mr-1"],[3,"members$"]],template:function(n,s){if(n&1&&(e(0,"div",0)(1,"div",1)(2,"div",2),c(3,"member-heading-widget",3),R(4,"async"),e(5,"div",4)(6,"div",1)(7,"mat-form-field",5),c(8,"mat-icon",6)(9,"input",7),t()(),e(10,"button",8),c(11,"mat-icon",9),e(12,"span",10),m(13,"Add"),t()()()(),c(14,"member-list-widget",11),t()()),n&2){let F;a(3),l("count",(F=B(4,11,s.members$))==null||F.content==null?null:F.content.length)("title","Family"),a(5),l("svgIcon","heroicons_solid:magnifying-glass"),a(),l("formControl",s.searchInputControl)("autocomplete","off")("placeholder","Search members"),a(),l("color","primary")("routerLink",v(13,ae))("queryParams",v(14,le)),a(),l("svgIcon","heroicons_outline:plus"),a(3),l("members$",s.members$)}},dependencies:[S,y,q,T,x,J,M,g,W,U,G,$,K,Q],styles:[`fuse-card{margin:8px}
`],encapsulation:2,changeDetection:0});let r=i;return r})();var te=(()=>{let i=class i{constructor(){}ngOnInit(){}};i.\u0275fac=function(n){return new(n||i)},i.\u0275cmp=d({type:i,selectors:[["app-family"]],standalone:!0,features:[u],decls:1,vars:0,template:function(n,s){n&1&&c(0,"router-outlet")},dependencies:[V,N],encapsulation:2,changeDetection:0});let r=i;return r})();var se=()=>["../"],ce=r=>["./",r],de=r=>["member",r];function pe(r,i){if(r&1&&(k(0),e(1,"div",17)(2,"a",18)(3,"div",19)(4,"div",20),m(5),t(),e(6,"div",21),m(7),t()(),e(8,"div",19)(9,"button",22),m(10,"View "),t()()()(),L()),r&2){let b=i.$implicit;a(2),l("routerLink",w(5,ce,b.id)),a(3),h(b.name),a(2),h(b.relation),a(2),l("color","primary")("routerLink",w(7,de,b.id))}}var ie=(()=>{let i=class i{constructor(o,n,s){this._memberService=o,this._changeDetectorRef=n,this._activatedRoute=s,this.viewHelper={submitting:!1,loading:!1},this._init()}_init(){let o=this._activatedRoute.snapshot.params.id;this._getFamily(o),this._getMemberByFamily(o)}_getFamily(o){this.viewHelper.loading=!0,_(this._memberService.getMemberById(Number(o))).then(n=>{this.family=n,this._changeDetectorRef.markForCheck()}).catch(()=>console.log()).finally(()=>{this.viewHelper.loading=!1})}_getMemberByFamily(o){this.viewHelper.loading=!0,_(this._memberService.getMemberParentId(Number(o))).then(n=>{this.members=n,this._changeDetectorRef.markForCheck()}).catch(()=>console.log()).finally(()=>{this.viewHelper.loading=!1})}};i.\u0275fac=function(n){return new(n||i)(p(f),p(O),p(H))},i.\u0275cmp=d({type:i,selectors:[["app-details"]],standalone:!0,features:[u],decls:40,vars:7,consts:[[1,"flex","flex-col","flex-auto","p-6","md:p-8"],[1,"flex","items-center","justify-end"],["mat-icon-button","",3,"routerLink"],[3,"svgIcon"],[1,"aspect-w-9","aspect-h-6","mt-8"],[1,"flex","items-center","justify-center","border","rounded-lg","bg-gray-50","dark:bg-card"],["alt","Family","src","images/profile/family-mock.webp",1,"object-cover"],[1,"flex","flex-col","items-start","mt-8"],[1,"text-xl","font-medium"],[1,"text-l","text-hint"],[1,"text-lg","font-medium","mt-8"],[1,"flex","flex-col","mt-4","border-t","border-b","divide-y","font-medium"],[1,"flex","items-center","justify-between"],[1,"w-full"],[4,"ngFor","ngForOf"],[1,"flex","items-center","justify-between","py-3"],[1,"text-secondary"],[1,"row"],[1,"z-20","flex","items-center","justify-between","px-6","py-4","md:px-8","cursor-pointer","border-b",3,"routerLink"],[1,"min-w-0","ml-4"],[1,"font-medium","leading-5","truncate"],[1,"leading-5","truncate","text-secondary","text-hint"],["mat-flat-button","",1,"flex-auto",3,"color","routerLink"]],template:function(n,s){n&1&&(e(0,"div",0)(1,"div",1)(2,"button",2),c(3,"mat-icon",3),t()(),e(4,"div",4)(5,"div",5),c(6,"img",6),t()(),e(7,"div",7)(8,"div",8),m(9),t(),e(10,"div",9),m(11),t()(),e(12,"div",10),m(13,"Members"),t(),e(14,"div",11)(15,"div",12)(16,"div",13),D(17,pe,11,9,"ng-container",14),t()(),e(18,"div",10),m(19,"About"),t(),e(20,"div",15)(21,"div"),m(22,"About"),t()(),e(23,"div",10),m(24,"Details"),t(),e(25,"div",15)(26,"div",16),m(27,"Division"),t(),e(28,"div"),m(29,"sub"),t()(),e(30,"div",15)(31,"div",16),m(32,"Sub Division"),t(),e(33,"div"),m(34,"subDivisionId"),t()(),e(35,"div",15)(36,"div",16),m(37,"Member Since"),t(),e(38,"div"),m(39,"memberSince"),t()()()()),n&2&&(a(2),l("routerLink",v(6,se)),a(),l("svgIcon","heroicons_outline:x"),a(6),h(s.family.displayName),a(2),j(" ",s.family.street," ",s.family.city,""),a(6),l("ngForOf",s.members.content))},dependencies:[M,g,P,S,y,z,x]});let r=i;return r})();var Re=[{path:"",component:te,children:[{path:"list",component:ee},{path:":id",component:ie}]}];export{Re as default};
