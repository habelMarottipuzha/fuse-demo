(self.webpackChunksocio=self.webpackChunksocio||[]).push([[754],{9754:(e,t,i)=>{"use strict";i.r(t),i.d(t,{FamilyModule:()=>X});var n=i(1116),r=i(3464),o=i(5959),s=i(5416),a=i(4689),c=i(1041),l=i(5366),u=i(8512),m=i(1225),f=i(878),d=i(6599),p=i(611),g=i(9996),Z=i(2693);let v=(()=>{class e{constructor(e){this._httpClient=e,this._family=new u.X(null),this._families=new u.X(null)}get families$(){return this._families.asObservable()}get family$(){return this._family.asObservable()}getFamilies(e){return this._httpClient.get("api/apps/family").pipe((0,d.b)(e=>{this._families.next(e)}))}getFamilyById(e){return this._families.pipe((0,p.q)(1),(0,g.U)(t=>{const i=t.find(t=>t.id===e)||null;return this._family.next(i),i}),(0,a.w)(t=>t?(0,f.of)(t):(0,m._)("Could not found the family with id of "+e+"!")))}}return e.\u0275fac=function(t){return new(t||e)(l.LFG(Z.eN))},e.\u0275prov=l.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var h=i(7772),x=i(168),b=i(3070),y=i(7307),_=i(9550),A=i(4369);let q=(()=>{class e{transform(e,t){if(!e)return null;const i=e.reduce((e,i)=>(e[i[t]]?e[i[t]].push(i):e[i[t]]=[i],e),{});return Object.keys(i).map(e=>({key:e,value:i[e]}))}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=l.Yjl({name:"groupBy",type:e,pure:!0}),e})();const T=["matDrawer"];function w(e,t){1&e&&l.GkF(0)}const k=function(e){return{family:e}};function C(e,t){if(1&e&&(l.ynx(0),l.YNc(1,w,1,0,"ng-container",21),l.BQk()),2&e){const e=t.$implicit;l.oxw(3);const i=l.MAs(18);l.xp6(1),l.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",l.VKq(2,k,e))}}function I(e,t){if(1&e&&(l.TgZ(0,"div"),l.TgZ(1,"div",18),l.TgZ(2,"div",19),l._uU(3),l.qZA(),l.TgZ(4,"div",20),l.YNc(5,C,2,4,"ng-container",17),l.qZA(),l.qZA(),l.qZA()),2&e){const e=t.$implicit;l.xp6(3),l.Oqu(e.key),l.xp6(2),l.Q6J("ngForOf",e.value)}}function U(e,t){if(1&e&&(l.ynx(0),l.YNc(1,I,6,2,"div",17),l.ALo(2,"groupBy"),l.BQk()),2&e){const e=l.oxw();l.xp6(1),l.Q6J("ngForOf",l.xi3(2,1,e.families,"divisionId"))}}const F=function(e){return["./",e]};function O(e,t){if(1&e&&(l.TgZ(0,"div",22),l.TgZ(1,"div",23),l._UZ(2,"img",24),l.qZA(),l.TgZ(3,"div",25),l.TgZ(4,"div",26),l.TgZ(5,"div",27),l.TgZ(6,"div",28),l._uU(7),l.qZA(),l.TgZ(8,"div",29),l._uU(9),l.qZA(),l.TgZ(10,"div",28),l._uU(11),l.qZA(),l.qZA(),l.qZA(),l.TgZ(12,"div",30),l.TgZ(13,"button",31),l._UZ(14,"mat-icon",32),l.qZA(),l.TgZ(15,"button",31),l._UZ(16,"mat-icon",32),l.qZA(),l.TgZ(17,"button",33),l._UZ(18,"mat-icon",32),l.qZA(),l.qZA(),l.qZA(),l.qZA()),2&e){const e=t.family;l.xp6(7),l.Oqu(e.divisionId),l.xp6(2),l.hij(" ",e.name," "),l.xp6(2),l.Oqu(e.address),l.xp6(3),l.Q6J("svgIcon","feather:phone"),l.xp6(2),l.Q6J("svgIcon","feather:navigation"),l.xp6(1),l.Q6J("routerLink",l.VKq(7,F,e.id)),l.xp6(1),l.Q6J("svgIcon","feather:info")}}function D(e,t){1&e&&(l.TgZ(0,"div",34),l._UZ(1,"mat-icon",35),l.TgZ(2,"div",36),l._uU(3,"There are no items!"),l.qZA(),l.qZA()),2&e&&(l.xp6(1),l.Q6J("svgIcon","iconsmind:file_hide"))}let J=(()=>{class e{constructor(e,t,i,n,r){this._activatedRoute=e,this._changeDetectorRef=t,this._router=i,this._fileManagerService=n,this._fuseMediaWatcherService=r,this._unsubscribeAll=new o.xQ,this.searchInputControl=new c.NI}ngOnInit(){this._fileManagerService.families$.pipe((0,s.R)(this._unsubscribeAll)).subscribe(e=>{this.families=e,this._changeDetectorRef.markForCheck()}),this._fileManagerService.family$.pipe((0,s.R)(this._unsubscribeAll)).subscribe(e=>{this.selectedFamily=e,this._changeDetectorRef.markForCheck()}),this._fuseMediaWatcherService.onMediaQueryChange$("(min-width: 1440px)").pipe((0,s.R)(this._unsubscribeAll)).subscribe(e=>{this.drawerMode=e.matches?"side":"over",this._changeDetectorRef.markForCheck()}),this.searchInputControl.valueChanges.pipe((0,s.R)(this._unsubscribeAll),(0,a.w)(e=>this._fileManagerService.getFamilies(e))).subscribe()}ngOnDestroy(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}onBackdropClicked(){this._router.navigate(["./"],{relativeTo:this._activatedRoute}),this._changeDetectorRef.markForCheck()}trackByFn(e,t){return t.id||e}addFamily(){alert("Add new family")}}return e.\u0275fac=function(t){return new(t||e)(l.Y36(r.gz),l.Y36(l.sBO),l.Y36(r.F0),l.Y36(v),l.Y36(h.T))},e.\u0275cmp=l.Xpm({type:e,selectors:[["app-family-list"]],viewQuery:function(e,t){if(1&e&&l.Gf(T,7),2&e){let e;l.iGM(e=l.CRH())&&(t.matDrawer=e.first)}},decls:21,vars:12,consts:[[1,"absolute","inset-0","flex","flex-col","min-w-0","overflow-hidden"],[1,"flex-auto","h-full","bg-card","dark:bg-transparent",3,"backdropClick"],[1,"w-full","sm:w-100","dark:bg-gray-900",3,"disableClose","mode","opened","position"],["matDrawer",""],[1,"flex","flex-col","bg-gray-100","dark:bg-transparent"],[1,"flex","flex-col","flex-auto"],[1,"flex","items-center","mt-4","sm:mt-0","md:mt-4"],[1,"flex-auto"],[1,"fuse-mat-dense","fuse-mat-no-subscript","w-full","min-w-50"],["matPrefix","",1,"icon-size-5",3,"svgIcon"],["matInput","",3,"autocomplete","formControl","placeholder"],["mat-flat-button","",1,"ml-4",3,"color","click"],[3,"svgIcon"],[1,"ml-2","mr-1"],[4,"ngIf","ngIfElse"],["familyTemplate",""],["noItems",""],[4,"ngFor","ngForOf"],[1,"p-6","md:p-8"],[1,"z-10","sticky","top-0","-mt-px","p-6","py-1","md:px-8","border-t","border-b","font-medium","uppercase","text-secondary","bg-gray-50","dark:bg-gray-900"],[1,"grid","grid-cols-1","sm:grid-cols-1","md:grid-cols-3","lg:grid-cols-3","gap-2","w-full","min-w-0"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"flex","flex-col","flex-auto","m-2","px-4","pt-4","shadow","rounded-2xl","cursor-pointer","bg-card","overflow-hidden"],[1,"row"],["alt","Family","src","assets/images/profile/family-mock.webp",1,"object-cover"],[1,"mx-8","mt-4","mb-2"],[1,"flex","justify-between"],[1,"flex","flex-col"],[1,"text-secondary","text-md"],[1,"text-2xl","font-semibold","leading-tight","mt-1"],[1,"flex","items-center","mt-4","space-x-4"],["mat-stroked-button","","type","button",1,"flex-auto"],[1,"icon-size-5",3,"svgIcon"],["mat-stroked-button","","type","button",1,"flex-auto","mat-primary",3,"routerLink"],[1,"flex","flex-auto","flex-col","items-center","justify-center","bg-gray-100","dark:bg-transparent"],[1,"icon-size-24",3,"svgIcon"],[1,"mt-4","text-2xl","font-semibold","tracking-tight","text-secondary"]],template:function(e,t){if(1&e&&(l.TgZ(0,"div",0),l.TgZ(1,"mat-drawer-container",1),l.NdJ("backdropClick",function(){return t.onBackdropClicked()}),l.TgZ(2,"mat-drawer",2,3),l._UZ(4,"router-outlet"),l.qZA(),l.TgZ(5,"mat-drawer-content",4),l.TgZ(6,"div",5),l.TgZ(7,"div",6),l.TgZ(8,"div",7),l.TgZ(9,"mat-form-field",8),l._UZ(10,"mat-icon",9),l._UZ(11,"input",10),l.qZA(),l.qZA(),l.TgZ(12,"button",11),l.NdJ("click",function(){return t.addFamily()}),l._UZ(13,"mat-icon",12),l.TgZ(14,"span",13),l._uU(15,"Add"),l.qZA(),l.qZA(),l.qZA(),l.YNc(16,U,3,4,"ng-container",14),l.YNc(17,O,19,9,"ng-template",null,15,l.W1O),l.YNc(19,D,4,1,"ng-template",null,16,l.W1O),l.qZA(),l.qZA(),l.qZA(),l.qZA()),2&e){const e=l.MAs(20);l.xp6(2),l.Q6J("disableClose",!0)("mode",t.drawerMode)("opened",!1)("position","end"),l.xp6(8),l.Q6J("svgIcon","heroicons_solid:search"),l.xp6(1),l.Q6J("autocomplete","off")("formControl",t.searchInputControl)("placeholder","Search families"),l.xp6(1),l.Q6J("color","primary"),l.xp6(1),l.Q6J("svgIcon","heroicons_outline:plus"),l.xp6(3),l.Q6J("ngIf",t.families&&t.families.length&&t.families.length>0)("ngIfElse",e)}},directives:[x.kh,x.jA,r.lC,x.LW,b.KE,y.Hw,b.qo,_.Nt,c.Fj,c.JJ,c.oH,A.lW,n.O5,n.sg,n.tP,r.rH],pipes:[q],styles:["fuse-card{margin:8px}"],encapsulation:2,changeDetection:0}),e})(),Q=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=l.Xpm({type:e,selectors:[["app-family"]],decls:1,vars:0,template:function(e,t){1&e&&l._UZ(0,"router-outlet")},directives:[r.lC],encapsulation:2,changeDetection:0}),e})();const M=function(e){return["./",e]},Y=function(e){return["../../","member",e]};function S(e,t){if(1&e&&(l.ynx(0),l.TgZ(1,"div",16),l.TgZ(2,"a",17),l.TgZ(3,"div",18),l.TgZ(4,"div",19),l._uU(5),l.qZA(),l.TgZ(6,"div",20),l._uU(7),l.qZA(),l.qZA(),l.TgZ(8,"div",18),l.TgZ(9,"button",21),l._uU(10,"View "),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.BQk()),2&e){const e=t.$implicit;l.xp6(2),l.Q6J("routerLink",l.VKq(5,M,e.id)),l.xp6(3),l.Oqu(e.name),l.xp6(2),l.Oqu(e.relation),l.xp6(2),l.Q6J("color","primary")("routerLink",l.VKq(7,Y,e.id))}}const L=function(){return["../"]};let j=(()=>{class e{constructor(e,t,i){this._changeDetectorRef=e,this._fileManagerListComponent=t,this._familyService=i,this._unsubscribeAll=new o.xQ}ngOnInit(){this._fileManagerListComponent.matDrawer.open(),this._familyService.family$.pipe((0,s.R)(this._unsubscribeAll)).subscribe(e=>{this._fileManagerListComponent.matDrawer.open(),this.family=e,this._changeDetectorRef.markForCheck()})}ngOnDestroy(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}closeDrawer(){return this._fileManagerListComponent.matDrawer.close()}trackByFn(e,t){return t.id||e}}return e.\u0275fac=function(t){return new(t||e)(l.Y36(l.sBO),l.Y36(J),l.Y36(v))},e.\u0275cmp=l.Xpm({type:e,selectors:[["app-details"]],decls:38,vars:9,consts:[[1,"flex","flex-col","flex-auto","p-6","md:p-8"],[1,"flex","items-center","justify-end"],["mat-icon-button","",3,"routerLink"],[3,"svgIcon"],[1,"aspect-w-9","aspect-h-6","mt-8"],[1,"flex","items-center","justify-center","border","rounded-lg","bg-gray-50","dark:bg-card"],["alt","Family","src","assets/images/profile/family-mock.webp",1,"object-cover"],[1,"flex","flex-col","items-start","mt-8"],[1,"text-xl","font-medium"],[1,"text-lg","font-medium","mt-8"],[1,"flex","flex-col","mt-4","border-t","border-b","divide-y","font-medium"],[1,"flex","items-center","justify-between"],[1,"w-full"],[4,"ngFor","ngForOf"],[1,"flex","items-center","justify-between","py-3"],[1,"text-secondary"],[1,"row"],[1,"z-20","flex","items-center","justify-between","px-6","py-4","md:px-8","cursor-pointer","border-b",3,"routerLink"],[1,"min-w-0","ml-4"],[1,"font-medium","leading-5","truncate"],[1,"leading-5","truncate","text-secondary"],["mat-flat-button","",1,"flex-auto",3,"color","routerLink"]],template:function(e,t){1&e&&(l.TgZ(0,"div",0),l.TgZ(1,"div",1),l.TgZ(2,"button",2),l._UZ(3,"mat-icon",3),l.qZA(),l.qZA(),l.TgZ(4,"div",4),l.TgZ(5,"div",5),l._UZ(6,"img",6),l.qZA(),l.qZA(),l.TgZ(7,"div",7),l.TgZ(8,"div",8),l._uU(9),l.qZA(),l.qZA(),l.TgZ(10,"div",9),l._uU(11,"Members"),l.qZA(),l.TgZ(12,"div",10),l.TgZ(13,"div",11),l.TgZ(14,"div",12),l.YNc(15,S,11,9,"ng-container",13),l.qZA(),l.qZA(),l.TgZ(16,"div",9),l._uU(17,"About"),l.qZA(),l.TgZ(18,"div",14),l.TgZ(19,"div"),l._uU(20),l.qZA(),l.qZA(),l.TgZ(21,"div",9),l._uU(22,"Details"),l.qZA(),l.TgZ(23,"div",14),l.TgZ(24,"div",15),l._uU(25,"Division"),l.qZA(),l.TgZ(26,"div"),l._uU(27),l.qZA(),l.qZA(),l.TgZ(28,"div",14),l.TgZ(29,"div",15),l._uU(30,"Sub Division"),l.qZA(),l.TgZ(31,"div"),l._uU(32),l.qZA(),l.qZA(),l.TgZ(33,"div",14),l.TgZ(34,"div",15),l._uU(35,"Member Since"),l.qZA(),l.TgZ(36,"div"),l._uU(37),l.qZA(),l.qZA(),l.qZA(),l.qZA()),2&e&&(l.xp6(2),l.Q6J("routerLink",l.DdM(8,L)),l.xp6(1),l.Q6J("svgIcon","heroicons_outline:x"),l.xp6(6),l.Oqu(t.family.name),l.xp6(6),l.Q6J("ngForOf",t.family.members),l.xp6(5),l.Oqu(t.family.about),l.xp6(7),l.Oqu(t.family.divisionId),l.xp6(5),l.Oqu(t.family.subDivisionId||""),l.xp6(5),l.Oqu(t.family.memberSince))},directives:[A.lW,r.rH,y.Hw,n.sg,r.yS],styles:[""]}),e})();var B=i(4311),R=i(1925),z=i(5425),N=i(5078),$=i(7727);let G=(()=>{class e{constructor(e){this._familyService=e}resolve(e,t){return this._familyService.getFamilies()}}return e.\u0275fac=function(t){return new(t||e)(l.LFG(v))},e.\u0275prov=l.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),W=(()=>{class e{constructor(e,t){this._router=e,this._familyService=t}resolve(e,t){return this._familyService.getFamilyById(e.paramMap.get("id")).pipe((0,$.K)(e=>{console.error(e);const i=t.url.split("/").slice(0,-1).join("/");return this._router.navigateByUrl(i),(0,m._)(e)}))}}return e.\u0275fac=function(t){return new(t||e)(l.LFG(r.F0),l.LFG(v))},e.\u0275prov=l.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),H=(()=>{class e{canDeactivate(e,t,i,n){let r=n.root;for(;r.firstChild;)r=r.firstChild;return!n.url.includes("/family")||!!r.paramMap.get("id")||e.closeDrawer().then(()=>!0)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=l.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var K=i(1778);const V=[{path:"",component:Q,children:[{path:"",component:J,resolve:{items:G},children:[{path:":id",component:j,resolve:{item:W},canDeactivate:[H]}]}]}];let X=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=l.oAB({type:e}),e.\u0275inj=l.cJS({providers:[],imports:[[n.ez,r.Bz.forChild(V),K.q,x.SJ,A.ot,y.Ps,N.ie,B.AV,R.J,z.m]]}),e})()}}]);