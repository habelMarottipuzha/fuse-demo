import{m as be,n as _e,o as Ce,s as R,t as O}from"./chunk-TTZUX2ML.js";import{k as ue}from"./chunk-CAMR7TE6.js";import"./chunk-LCBQI7EW.js";import"./chunk-QHMJBPW3.js";import{K as xe,d as de,i as pe,l as ve,p as ge,t as he,y as ye}from"./chunk-S6WWENTZ.js";import{Y as j,_ as fe,ca as L}from"./chunk-X74XGKVL.js";import"./chunk-IGU3OF2F.js";import{Ab as Q,Fb as Z,Gb as ee,Hb as te,Ib as W,Jb as m,Kb as f,Kc as le,Lb as x,M as H,Na as o,Oa as u,Qb as b,Rb as ie,Rc as me,Sb as _,Sc as E,Tc as se,Uc as M,Yb as ne,Z as I,_ as g,_b as re,_c as ce,aa as J,ac as q,db as h,ea as F,fb as s,gc as k,ha as K,k as S,l as V,la as y,pb as i,qb as a,rb as p,sb as C,t as P,ta as $,tb as w,tc as D,u as U,ua as z,ub as X,uc as ae,vb as Y,x as G,yb as N,yc as oe}from"./chunk-CUPP6BOL.js";var A=(()=>{let t=class t{constructor(n){this._httpClient=n,this._family=new V(null),this._families=new V(null)}get families$(){return this._families.asObservable()}get family$(){return this._family.asObservable()}getFamilies(n){return this._httpClient.get("api/apps/family").pipe(J(r=>{this._families.next(r)}))}getFamilyById(n){return this._families.pipe(H(1),G(r=>{let l=r.find(d=>d.id===n)||null;return this._family.next(l),l}),I(r=>r?P(r):U("Could not found the family with id of "+n+"!")))}};t.\u0275fac=function(r){return new(r||t)(K(le))},t.\u0275prov=F({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var je=["matDrawer"],Le=e=>({family:e}),Re=e=>["./",e];function Oe(e,t){e&1&&X(0)}function Te(e,t){if(e&1&&(C(0),h(1,Oe,1,0,"ng-container",21),w()),e&2){let c=t.$implicit;Q(3);let n=W(18);o(),s("ngTemplateOutlet",n)("ngTemplateOutletContext",_(2,Le,c))}}function Ae(e,t){if(e&1&&(i(0,"div")(1,"div",18)(2,"div",19),m(3),a(),i(4,"div",20),h(5,Te,2,4,"ng-container",17),a()()()),e&2){let c=t.$implicit;o(3),x(" ",c.key," "),o(2),s("ngForOf",c.value)}}function Be(e,t){if(e&1&&(C(0),h(1,Ae,6,2,"div",17),ne(2,"groupBy"),w()),e&2){let c=Q();o(),s("ngForOf",re(2,1,c.families,"divisionId"))}}function Ve(e,t){if(e&1&&(i(0,"div",22)(1,"div",23)(2,"div",24),m(3),a(),i(4,"div",25),m(5),a()(),i(6,"div",26),p(7,"img",27),a(),i(8,"div",28)(9,"div",23)(10,"div",29)(11,"div",30),m(12),a(),i(13,"div",31),m(14),a()()(),i(15,"div",32)(16,"button",33),p(17,"mat-icon",34),a(),i(18,"button",33),p(19,"mat-icon",34),a(),i(20,"button",35),m(21," Details "),a()()()()),e&2){let c=t.family;o(3),x("#",c.uid,""),o(2),f(c.divisionId),o(7),x(" ",c.name," "),o(2),f(c.address),o(3),s("svgIcon","feather:phone"),o(2),s("svgIcon","feather:navigation"),o(),s("routerLink",_(7,Re,c.id))}}function $e(e,t){e&1&&(i(0,"div",36),p(1,"mat-icon",37),i(2,"div",38),m(3,"There are no items!"),a()()),e&2&&(o(),s("svgIcon","iconsmind:file_hide"))}var B=(()=>{let t=class t{constructor(n,r,l,d,v){this._activatedRoute=n,this._changeDetectorRef=r,this._router=l,this._fileManagerService=d,this._fuseMediaWatcherService=v,this._unsubscribeAll=new S,this.searchInputControl=new he}ngOnInit(){this._fileManagerService.families$.pipe(g(this._unsubscribeAll)).subscribe(n=>{this.families=n,this._changeDetectorRef.markForCheck()}),this._fileManagerService.family$.pipe(g(this._unsubscribeAll)).subscribe(n=>{this.selectedFamily=n,this._changeDetectorRef.markForCheck()}),this._fuseMediaWatcherService.onMediaQueryChange$("(min-width: 1440px)").pipe(g(this._unsubscribeAll)).subscribe(n=>{this.drawerMode=n.matches?"side":"over",this._changeDetectorRef.markForCheck()}),this.searchInputControl.valueChanges.pipe(g(this._unsubscribeAll),I(n=>this._fileManagerService.getFamilies(n))).subscribe()}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}onBackdropClicked(){this._router.navigate(["./"],{relativeTo:this._activatedRoute}),this._changeDetectorRef.markForCheck()}trackByFn(n,r){return r.id||n}addFamily(){alert("Add new family")}};t.\u0275fac=function(r){return new(r||t)(u(me),u(k),u(se),u(A),u(ue))},t.\u0275cmp=y({type:t,selectors:[["app-family-list"]],viewQuery:function(r,l){if(r&1&&Z(je,7),r&2){let d;ee(d=te())&&(l.matDrawer=d.first)}},standalone:!0,features:[b],decls:21,vars:12,consts:[["matDrawer",""],["familyTemplate",""],["noItems",""],[1,"absolute","inset-0","flex","flex-col","min-w-0","overflow-hidden"],[1,"flex-auto","h-full","bg-card","dark:bg-transparent",3,"backdropClick"],[1,"w-full","sm:w-100","dark:bg-gray-900",3,"disableClose","mode","opened","position"],[1,"flex","flex-col","bg-gray-100","dark:bg-transparent"],[1,"flex","flex-col","flex-auto"],[1,"flex","items-center","mt-4","sm:mt-0","md:mt-4"],[1,"flex-auto"],[1,"fuse-mat-dense","fuse-mat-no-subscript","w-full","min-w-50"],["matPrefix","",1,"icon-size-5",3,"svgIcon"],["matInput","",3,"autocomplete","formControl","placeholder"],["mat-flat-button","",1,"ml-4",3,"click","color"],[3,"svgIcon"],[1,"ml-2","mr-1"],[4,"ngIf","ngIfElse"],[4,"ngFor","ngForOf"],[1,"p-6","md:p-8"],[1,"z-10","sticky","top-0","-mt-px","p-6","py-1","md:px-8","border-t","border-b","font-medium","uppercase","text-secondary","bg-gray-50","dark:bg-gray-900"],[1,"grid","grid-cols-1","sm:grid-cols-1","md:grid-cols-3","lg:grid-cols-3","gap-2","w-full","min-w-0"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"flex","flex-col","flex-auto","m-2","px-4","pt-4","shadow","rounded-2xl","cursor-pointer","bg-card","overflow-hidden"],[1,"flex","justify-between"],[1,"text-hint"],[1,"text-md"],[1,"row"],["alt","Family","src","assets/images/profile/family-mock.webp",1,"object-cover"],[1,"mx-8","mt-4","mb-2"],[1,"flex","flex-col"],[1,"text-2xl","font-semibold","leading-tight","mt-1"],[1,"text-secondary","text-md"],[1,"flex","items-center","mt-4","space-x-4"],["mat-stroked-button","","type","button",1,"flex-auto"],[1,"icon-size-5",3,"svgIcon"],["mat-stroked-button","","type","button",1,"flex-auto","mat-primary",3,"routerLink"],[1,"flex","flex-auto","flex-col","items-center","justify-center","bg-gray-100","dark:bg-transparent"],[1,"icon-size-24",3,"svgIcon"],[1,"mt-4","text-2xl","font-semibold","tracking-tight","text-secondary"]],template:function(r,l){if(r&1){let d=Y();i(0,"div",3)(1,"mat-drawer-container",4),N("backdropClick",function(){return $(d),z(l.onBackdropClicked())}),i(2,"mat-drawer",5,0),p(4,"router-outlet"),a(),i(5,"mat-drawer-content",6)(6,"div",7)(7,"div",8)(8,"div",9)(9,"mat-form-field",10),p(10,"mat-icon",11)(11,"input",12),a()(),i(12,"button",13),N("click",function(){return $(d),z(l.addFamily())}),p(13,"mat-icon",14),i(14,"span",15),m(15,"Add"),a()()(),h(16,Be,3,4,"ng-container",16)(17,Ve,22,9,"ng-template",null,1,q)(19,$e,4,1,"ng-template",null,2,q),a()()()()}if(r&2){let d=W(20);o(2),s("disableClose",!0)("mode",l.drawerMode)("opened",!1)("position","end"),o(8),s("svgIcon","heroicons_solid:search"),o(),s("autocomplete","off")("formControl",l.searchInputControl)("placeholder","Search families"),o(),s("color","primary"),o(),s("svgIcon","heroicons_outline:plus"),o(3),s("ngIf",l.families&&l.families.length&&l.families.length>0)("ngIfElse",d)}},dependencies:[R,j,pe,de,L,xe,_e,Ce,be,O,E,M,D,ae,oe,ve,ge,ye],styles:[`fuse-card{margin:8px}
`],encapsulation:2,changeDetection:0});let e=t;return e})();var Ie=(()=>{let t=class t{constructor(){}ngOnInit(){}};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=y({type:t,selectors:[["app-family"]],standalone:!0,features:[b],decls:1,vars:0,template:function(r,l){r&1&&p(0,"router-outlet")},dependencies:[ce,E],encapsulation:2,changeDetection:0});let e=t;return e})();var Ne=()=>["../"],Qe=e=>["./",e],We=e=>["../../","member",e];function qe(e,t){if(e&1&&(C(0),i(1,"div",17)(2,"a",18)(3,"div",19)(4,"div",20),m(5),a(),i(6,"div",21),m(7),a()(),i(8,"div",19)(9,"button",22),m(10,"View "),a()()()(),w()),e&2){let c=t.$implicit;o(2),s("routerLink",_(5,Qe,c.id)),o(3),f(c.name),o(2),f(c.relation),o(2),s("color","primary")("routerLink",_(7,We,c.id))}}var Fe=(()=>{let t=class t{constructor(n,r,l){this._changeDetectorRef=n,this._fileManagerListComponent=r,this._familyService=l,this._unsubscribeAll=new S}ngOnInit(){this._fileManagerListComponent.matDrawer.open(),this._familyService.family$.pipe(g(this._unsubscribeAll)).subscribe(n=>{this._fileManagerListComponent.matDrawer.open(),this.family=n,this._changeDetectorRef.markForCheck()})}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}closeDrawer(){return this._fileManagerListComponent.matDrawer.close()}trackByFn(n,r){return r.id||n}};t.\u0275fac=function(r){return new(r||t)(u(k),u(B),u(A))},t.\u0275cmp=y({type:t,selectors:[["app-details"]],standalone:!0,features:[b],decls:40,vars:10,consts:[[1,"flex","flex-col","flex-auto","p-6","md:p-8"],[1,"flex","items-center","justify-end"],["mat-icon-button","",3,"routerLink"],[3,"svgIcon"],[1,"aspect-w-9","aspect-h-6","mt-8"],[1,"flex","items-center","justify-center","border","rounded-lg","bg-gray-50","dark:bg-card"],["alt","Family","src","assets/images/profile/family-mock.webp",1,"object-cover"],[1,"flex","flex-col","items-start","mt-8"],[1,"text-xl","font-medium"],[1,"text-l","text-hint"],[1,"text-lg","font-medium","mt-8"],[1,"flex","flex-col","mt-4","border-t","border-b","divide-y","font-medium"],[1,"flex","items-center","justify-between"],[1,"w-full"],[4,"ngFor","ngForOf"],[1,"flex","items-center","justify-between","py-3"],[1,"text-secondary"],[1,"row"],[1,"z-20","flex","items-center","justify-between","px-6","py-4","md:px-8","cursor-pointer","border-b",3,"routerLink"],[1,"min-w-0","ml-4"],[1,"font-medium","leading-5","truncate"],[1,"leading-5","truncate","text-secondary","text-hint"],["mat-flat-button","",1,"flex-auto",3,"color","routerLink"]],template:function(r,l){r&1&&(i(0,"div",0)(1,"div",1)(2,"button",2),p(3,"mat-icon",3),a()(),i(4,"div",4)(5,"div",5),p(6,"img",6),a()(),i(7,"div",7)(8,"div",8),m(9),a(),i(10,"div",9),m(11),a()(),i(12,"div",10),m(13,"Members"),a(),i(14,"div",11)(15,"div",12)(16,"div",13),h(17,qe,11,9,"ng-container",14),a()(),i(18,"div",10),m(19,"About"),a(),i(20,"div",15)(21,"div"),m(22),a()(),i(23,"div",10),m(24,"Details"),a(),i(25,"div",15)(26,"div",16),m(27,"Division"),a(),i(28,"div"),m(29),a()(),i(30,"div",15)(31,"div",16),m(32,"Sub Division"),a(),i(33,"div"),m(34),a()(),i(35,"div",15)(36,"div",16),m(37,"Member Since"),a(),i(38,"div"),m(39),a()()()()),r&2&&(o(2),s("routerLink",ie(9,Ne)),o(),s("svgIcon","heroicons_outline:x"),o(6),f(l.family.name),o(2),x(" ",l.family.address,""),o(6),s("ngForOf",l.family.members),o(5),f(l.family.about),o(7),f(l.family.divisionId),o(5),f(l.family.subDivisionId||""),o(5),f(l.family.memberSince))},dependencies:[O,M,D,R,j,fe,L]});let e=t;return e})();var ke=(()=>{let t=class t{canDeactivate(n,r,l,d){let v=d.root;for(;v.firstChild;)v=v.firstChild;return!d.url.includes("/family")||v.paramMap.get("id")?!0:n.closeDrawer().then(()=>!0)}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=F({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var gt=[{path:"",component:Ie,children:[{path:"",component:B,children:[{path:":id",component:Fe,canDeactivate:[ke]}]}]}];export{gt as default};
